<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<th:block layout:fragment="css">
    <style>
        .error{color:#bd2130;}
    </style>
</th:block>
<body>
<div id="login_page" class="login" data-role="page" layout:fragment="content" data-ajax="true">
  <div class="header" data-role="header" data-position="fixed" data-tap-toggle="false">
    <div class="header_wrap">
      <a href="#" class="back_btn" data-rel="back" data-direction="reverse"></a>
      <h2 class="page_tit">로그인</h2>
      <div class="head_icon">
        <div class="basket"><a href="#"></a></div>
      </div>
    </div>
  </div><!--header-->
  <div class="conts_wrap" data-role="content">
    <form action="/mobile/login" class="sec sec_width" data-ajax="false" method="post">
      <fieldset class="user_input_wrap">
        <label th:for="email" class="user_icon user_id_icon"></label>
        <input type="email" name="email" id="email" class="user_input" placeholder="이메일을 입력해 주세요."/>
      </fieldset>
      <fieldset class="user_input_wrap">
        <label th:for="password" class="user_icon user_pw_icon"></label>
        <input type="password" name="password" id="password" class="user_input" placeholder="비밀번호를 입력해 주세요."/>
        <span class="user_icon pw_eye off"></span>
      </fieldset>
      <p th:if="${loginErrorMsg}" class="error" th:text="${loginErrorMsg}"></p>
      <fieldset class="login_ck_wrap">
        <label for="login_ck" class="user_icon ck_icon">로그인 상태 유지</label>
        <input type="checkbox" name="login_ck" id="login_ck"/>
      </fieldset>
      <button type="submit" class="login_btn">로그인</button>
      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
      <div class="pw_search_join">
        <a href="#">비밀번호 찾기</a>
        <a href="#" onclick="location.href='/mobile/new'">회원 가입</a>
      </div>
      <div class="sns_login">
        <div class="google"><a href="/" data-ajax="false"></a></div>
        <div class="kakao"></div>
        <div class="naver"></div>
      </div>
    </form>
  </div><!--content-->
  <div class="ui_fixed" data-role="footer" data-position="fixed" data-tap-toggle="false">
    <ul>
      <li class="home">
        <a href="/" class="ui-btn ui-corner-all" data-role="button" data-ajax="false"><p class="icon home"></p>홈</a>
      </li>
      <li class="search">
        <a href="/mobile/search" class="ui-btn ui-corner-all" data-role="button" data-ajax="false"><p class="icon search"></p>검색</a>
      </li>
      <li class="recipe">
        <a href="/mobile/recipe" class="ui-btn ui-corner-all" data-role="button" data-ajax="false"><p class="icon recipe"></p>레시피</a>
      </li>
      <li class="user on">
        <a href="#" class="ui-btn ui-corner-all on" data-role="button" data-ajax="false" sec:authorize="isAnonymous()"><p class="icon user"></p>MY</a>
        <a href="/user/my_page" class="ui-btn ui-corner-all" data-ajax="false" sec:authorize="isAuthenticated()"><p class="icon user"></p>MY</a>
      </li>
    </ul>
  </div><!--ui_fixed-->
</div><!--login_page_wrap-->
</body>
</html>